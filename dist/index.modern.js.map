{"version":3,"file":"index.modern.js","sources":["../src/Bar.tsx","../src/Close.tsx","../src/Panel.tsx"],"sourcesContent":["import * as React from 'react';\nimport { StyleSheet, View } from 'react-native';\n\ntype BarProps = {\n  barStyle?: object;\n};\n\nexport const Bar = ({ barStyle }: BarProps) => {\n  return (\n    <View style={BarStyles.barContainer}>\n      <View style={[BarStyles.bar, barStyle]} />\n    </View>\n  );\n};\n\nconst BarStyles = StyleSheet.create({\n  barContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bar: {\n    width: '10%',\n    height: 5,\n    borderRadius: 5,\n    marginTop: 10,\n    marginBottom: 10,\n    backgroundColor: '#e2e2e2',\n  },\n});\n","import * as React from 'react';\nimport { StyleSheet, TouchableOpacity, View } from 'react-native';\n\ntype CloseProps = {\n  onPress: () => void;\n  rootStyle?: object;\n  iconStyle?: object;\n};\n\nexport const Close = ({ onPress, rootStyle, iconStyle }: CloseProps) => {\n  return (\n    <TouchableOpacity activeOpacity={0.5} onPress={() => onPress()} style={[CloseStyles.closeButton, rootStyle]}>\n      <View style={[CloseStyles.iconLine, iconStyle, { transform: [{ rotateZ: '45deg' }] }]} />\n      <View style={[CloseStyles.iconLine, iconStyle, { transform: [{ rotateZ: '135deg' }] }]} />\n    </TouchableOpacity>\n  );\n};\n\nconst CloseStyles = StyleSheet.create({\n  closeButton: {\n    width: 30,\n    height: 30,\n    borderRadius: 15,\n    position: 'absolute',\n    right: 15,\n    top: 15,\n    backgroundColor: '#e2e2e2',\n    zIndex: 3,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconLine: {\n    position: 'absolute',\n    width: 18,\n    height: 2,\n    borderRadius: 2,\n    backgroundColor: 'white',\n  },\n});\n","import React, { Component } from 'react';\nimport {\n  StyleSheet,\n  ScrollView,\n  View,\n  TouchableHighlight,\n  TouchableWithoutFeedback,\n  Animated,\n  Dimensions,\n  PanResponder,\n  ScrollViewProps,\n} from 'react-native';\n\nimport { Bar } from './Bar';\nimport { Close } from './Close';\n\nlet FULL_HEIGHT = Dimensions.get('window').height;\nlet FULL_WIDTH = Dimensions.get('window').width;\nlet PANEL_HEIGHT = FULL_HEIGHT - 100;\n\nconst STATUS = {\n  CLOSED: 0,\n  SMALL: 1,\n  LARGE: 2,\n};\n\ntype SwipeablePanelProps = {\n  isActive: boolean;\n  onClose: () => void;\n  showCloseButton?: boolean;\n  fullWidth?: boolean;\n  noBackgroundOpacity?: boolean;\n  style?: object;\n  closeRootStyle?: object;\n  closeIconStyle?: object;\n  closeOnTouchOutside?: boolean;\n  onlyLarge?: boolean;\n  onlySmall?: boolean;\n  openLarge?: boolean;\n  smallPanelHeight?: number;\n  noBar?: boolean;\n  barStyle?: object;\n  allowTouchOutside?: boolean;\n  scrollViewProps?: ScrollViewProps;\n};\n\ntype MaybeAnimated<T> = T | Animated.Value;\n\ntype SwipeablePanelState = {\n  status: number;\n  isActive: boolean;\n  showComponent: boolean;\n  canScroll: boolean;\n  opacity: Animated.Value;\n  pan: any;\n  orientation: 'portrait' | 'landscape';\n  deviceWidth: number;\n  deviceHeight: number;\n  panelHeight: number;\n};\n\nclass SwipeablePanel extends Component<SwipeablePanelProps, SwipeablePanelState> {\n  pan: Animated.ValueXY;\n  isClosing: boolean;\n  _panResponder: any;\n  animatedValueY: number;\n  constructor(props: SwipeablePanelProps) {\n    super(props);\n    this.state = {\n      status: STATUS.CLOSED,\n      isActive: false,\n      showComponent: false,\n      canScroll: false,\n      opacity: new Animated.Value(1),\n      pan: new Animated.ValueXY({ x: 0, y: FULL_HEIGHT }),\n      orientation: FULL_HEIGHT >= FULL_WIDTH ? 'portrait' : 'landscape',\n      deviceWidth: FULL_WIDTH,\n      deviceHeight: FULL_HEIGHT,\n      panelHeight: PANEL_HEIGHT,\n    };\n\n    this.pan = new Animated.ValueXY({ x: 0, y: FULL_HEIGHT });\n    this.isClosing = false;\n    this.animatedValueY = 0;\n\n    this._panResponder = PanResponder.create({\n      onStartShouldSetPanResponder: (evt, gestureState) => true,\n      onPanResponderGrant: (evt, gestureState) => {\n        this.state.pan.setOffset({\n          x: 0,\n          y: this.animatedValueY,\n        });\n        this.state.pan.setValue({ x: 0, y: 0 });\n      },\n      onPanResponderMove: (evt, gestureState) => {\n        if (\n          (this.state.status === 1 && Math.abs(this.state.pan.y._value) <= this.state.pan.y._offset) ||\n          (this.state.status === 2 && this.state.pan.y._value > -1)\n        )\n          this.state.pan.setValue({\n            x: 0,\n            y: this.state.status === STATUS.LARGE ? Math.max(0, gestureState.dy) : gestureState.dy,\n          });\n      },\n      onPanResponderRelease: (evt, gestureState) => {\n        const { onlyLarge, onlySmall } = this.props;\n        this.state.pan.flattenOffset();\n\n        if (gestureState.dy === 0) this._animateTo(this.state.status);\n        else if (gestureState.dy < -100 || gestureState.vy < -0.5) {\n          if (this.state.status === STATUS.SMALL) this._animateTo(onlySmall ? STATUS.SMALL : STATUS.LARGE);\n          else this._animateTo(STATUS.LARGE);\n        } else if (gestureState.dy > 100 || gestureState.vy > 0.5) {\n          if (this.state.status === STATUS.LARGE) this._animateTo(onlyLarge ? STATUS.CLOSED : STATUS.SMALL);\n          else this._animateTo(0);\n        } else this._animateTo(this.state.status);\n      },\n    });\n  }\n\n  componentDidMount = () => {\n    const { isActive, openLarge, onlyLarge, onlySmall } = this.props;\n\n    this.animatedValueY = 0;\n    this.state.pan.y.addListener((value: any) => (this.animatedValueY = value.value));\n\n    this.setState({ isActive });\n\n    if (isActive)\n      this._animateTo(onlySmall ? STATUS.SMALL : openLarge ? STATUS.LARGE : onlyLarge ? STATUS.LARGE : STATUS.SMALL);\n\n    Dimensions.addEventListener('change', this._onOrientationChange);\n  };\n\n  _onOrientationChange = () => {\n    const dimesions = Dimensions.get('screen');\n    FULL_HEIGHT = dimesions.height;\n    FULL_WIDTH = dimesions.width;\n    PANEL_HEIGHT = FULL_HEIGHT - 100;\n\n    this.setState({\n      orientation: dimesions.height >= dimesions.width ? 'portrait' : 'landscape',\n      deviceWidth: FULL_WIDTH,\n      deviceHeight: FULL_HEIGHT,\n      panelHeight: PANEL_HEIGHT,\n    });\n\n    this.props.onClose();\n  };\n\n  componentDidUpdate(prevProps: SwipeablePanelProps, prevState: SwipeablePanelState) {\n    const { isActive, openLarge, onlyLarge, onlySmall } = this.props;\n    if (onlyLarge && onlySmall)\n      console.warn(\n        'Ops. You are using both onlyLarge and onlySmall options. onlySmall will override the onlyLarge in this situation. Please select one of them or none.',\n      );\n\n    const lHandler = (value: any) => {\n      this.animatedValueY = value.value;\n    };\n\n    if (prevProps.isActive !== isActive) {\n      this.setState({ isActive });\n\n      if (isActive) {\n        this.state.pan.y.addListener(lHandler);\n        this._animateTo(onlySmall ? STATUS.SMALL : openLarge ? STATUS.LARGE : onlyLarge ? STATUS.LARGE : STATUS.SMALL);\n      } else {\n        this.state.pan.y.removeListener(lHandler);\n        this._animateTo();\n      }\n    }\n\n    if (prevState.orientation !== this.state.orientation) this._animateTo(this.state.status);\n  }\n\n  _animateTo = (newStatus = 0) => {\n    const { smallPanelHeight } = this.props;\n    let newY = 0;\n\n    if (newStatus === STATUS.CLOSED) newY = PANEL_HEIGHT;\n    else if (newStatus === STATUS.SMALL)\n      newY = this.state.orientation === 'portrait' ? FULL_HEIGHT - (smallPanelHeight ?? 400) : FULL_HEIGHT / 3;\n    else if (newStatus === STATUS.LARGE) newY = 0;\n\n    this.setState({\n      showComponent: true,\n      status: newStatus,\n    });\n\n    if (newStatus === 0) {\n      Animated.timing(this.state.opacity, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: false,\n      }).start();\n    } else {\n      Animated.timing(this.state.opacity, {\n        toValue: 1,\n        duration: 300,\n        useNativeDriver: false,\n      }).start();\n    }\n\n    Animated.spring(this.state.pan, {\n      toValue: { x: 0, y: newY },\n      tension: 80,\n      friction: 25,\n      useNativeDriver: true,\n      restDisplacementThreshold: 10,\n      restSpeedThreshold: 10,\n    }).start(() => {\n      if (newStatus === 0) {\n        this.props.onClose();\n        this.setState({\n          showComponent: false,\n        });\n      } else this.setState({ canScroll: newStatus === STATUS.LARGE });\n    });\n  };\n\n  render() {\n    const { showComponent, deviceWidth, deviceHeight, panelHeight } = this.state;\n    const {\n      noBackgroundOpacity,\n      style,\n      barStyle,\n      closeRootStyle,\n      closeIconStyle,\n      onClose,\n      allowTouchOutside,\n      closeOnTouchOutside,\n    } = this.props;\n\n    var color = this.state.opacity.interpolate({\n      inputRange: [0, 1],\n      outputRange: ['rgba(0, 0, 0, 0)', 'rgba(0, 0, 0, 0.5)'],\n    });\n\n    return showComponent ? (\n      <Animated.View\n        style={[\n          SwipeablePanelStyles.background,\n          {\n            backgroundColor: noBackgroundOpacity ? 'rgba(0,0,0,0)' : color,\n            height: allowTouchOutside ? 'auto' : deviceHeight,\n            width: deviceWidth,\n          },\n        ]}\n      >\n        {closeOnTouchOutside && (\n          <TouchableWithoutFeedback onPress={() => onClose()}>\n            <View\n              style={[\n                SwipeablePanelStyles.background,\n                {\n                  width: deviceWidth,\n                  backgroundColor: 'rgba(0,0,0,0)',\n                  height: allowTouchOutside ? 'auto' : deviceHeight,\n                },\n              ]}\n            />\n          </TouchableWithoutFeedback>\n        )}\n        <Animated.View\n          style={[\n            SwipeablePanelStyles.panel,\n            {\n              width: this.props.fullWidth ? deviceWidth : deviceWidth - 50,\n              height: panelHeight,\n            },\n            { transform: this.state.pan.getTranslateTransform() },\n            style,\n          ]}\n          {...this._panResponder.panHandlers}\n        >\n          {!this.props.noBar && <Bar barStyle={barStyle} />}\n          {this.props.showCloseButton && (\n            <Close rootStyle={closeRootStyle} iconStyle={closeIconStyle} onPress={this.props.onClose} />\n          )}\n          <ScrollView\n            onTouchStart={() => {\n              return false;\n            }}\n            onTouchEnd={() => {\n              return false;\n            }}\n            contentContainerStyle={SwipeablePanelStyles.scrollViewContentContainerStyle}\n            {...this.props.scrollViewProps}\n          >\n            {this.state.canScroll ? (\n              <TouchableHighlight>\n                <React.Fragment>{this.props.children}</React.Fragment>\n              </TouchableHighlight>\n            ) : (\n              this.props.children\n            )}\n          </ScrollView>\n        </Animated.View>\n      </Animated.View>\n    ) : null;\n  }\n}\n\nconst SwipeablePanelStyles = StyleSheet.create({\n  background: {\n    position: 'absolute',\n    zIndex: 1,\n    bottom: 0,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n  },\n  panel: {\n    position: 'absolute',\n    height: PANEL_HEIGHT,\n    width: FULL_WIDTH - 50,\n    transform: [{ translateY: FULL_HEIGHT - 100 }],\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: 'white',\n    bottom: 0,\n    borderTopLeftRadius: 20,\n    borderTopRightRadius: 20,\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1,\n    },\n    shadowOpacity: 0.18,\n    shadowRadius: 1.0,\n    elevation: 1,\n    zIndex: 2,\n  },\n  scrollViewContentContainerStyle: {\n    width: '100%',\n  },\n});\n\nconst SMALL_PANEL_CONTENT_HEIGHT = PANEL_HEIGHT - (FULL_HEIGHT - 400) - 25;\nconst LARGE_PANEL_CONTENT_HEIGHT = PANEL_HEIGHT - 25;\n\nexport { SwipeablePanel, LARGE_PANEL_CONTENT_HEIGHT, SMALL_PANEL_CONTENT_HEIGHT };\nexport type { SwipeablePanelProps };\n"],"names":["Bar","_ref","barStyle","React","View","style","BarStyles","barContainer","bar","StyleSheet","create","display","justifyContent","alignItems","width","height","borderRadius","marginTop","marginBottom","backgroundColor","Close","onPress","rootStyle","iconStyle","TouchableOpacity","activeOpacity","CloseStyles","closeButton","iconLine","transform","rotateZ","position","right","top","zIndex","FULL_HEIGHT","Dimensions","get","FULL_WIDTH","PANEL_HEIGHT","STATUS","CLOSED","SMALL","LARGE","SwipeablePanel","_Component","props","_this","call","_this$props","isActive","openLarge","onlyLarge","onlySmall","animatedValueY","state","pan","y","addListener","value","setState","_animateTo","addEventListener","_onOrientationChange","dimesions","orientation","deviceWidth","deviceHeight","panelHeight","onClose","newStatus","smallPanelHeight","newY","showComponent","status","Animated","timing","opacity","toValue","duration","useNativeDriver","start","spring","x","tension","friction","restDisplacementThreshold","restSpeedThreshold","canScroll","Value","ValueXY","isClosing","_panResponder","PanResponder","onStartShouldSetPanResponder","evt","gestureState","onPanResponderGrant","setOffset","setValue","onPanResponderMove","Math","abs","_value","_offset","max","dy","onPanResponderRelease","_this$props2","flattenOffset","vy","_inheritsLoose","_proto","prototype","componentDidUpdate","prevProps","prevState","_this$props3","console","warn","lHandler","_this2","removeListener","render","_this$state","_this$props4","noBackgroundOpacity","closeRootStyle","closeIconStyle","allowTouchOutside","closeOnTouchOutside","color","interpolate","inputRange","outputRange","createElement","SwipeablePanelStyles","background","TouchableWithoutFeedback","_extends","panel","fullWidth","getTranslateTransform","panHandlers","noBar","showCloseButton","ScrollView","onTouchStart","onTouchEnd","contentContainerStyle","scrollViewContentContainerStyle","scrollViewProps","TouchableHighlight","Fragment","children","Component","bottom","translateY","flexDirection","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","overflow","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","SMALL_PANEL_CONTENT_HEIGHT","LARGE_PANEL_CONTENT_HEIGHT"],"mappings":"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"}